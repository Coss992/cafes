@import "tailwindcss";
@import "tw-animate-css";

/* ================= Base Tailwind tokens ================= */
@custom-variant dark (&:is(.dark *));
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-montserrat);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);

  --font-display: var(--font-montserrat);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

/* ================= Tailwind base ================= */
@layer base {
  * { @apply border-border outline-ring/50; }
  body {
    @apply text-foreground;
    font-family: var(--font-display), ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
}

/* =================== Fondo degradado =================== */
:root{
  --coffee-grad-1: #8a6758;
  --coffee-grad-2: #6f5245;
  --coffee-glow: rgba(255, 230, 200, 0.12);
  --coffee-vignette: rgba(0, 0, 0, 0.22);
}

body {
  background-image:
    radial-gradient(1200px 520px at 50% -10%, var(--coffee-glow), transparent),
    radial-gradient(1200px 820px at 50% 120%, var(--coffee-vignette), transparent),
    linear-gradient(180deg, var(--coffee-grad-1), var(--coffee-grad-2));
  background-repeat: no-repeat, no-repeat, no-repeat;
  background-attachment: fixed, fixed, fixed;
  background-size: 100% 100%, 100% 100%, 100% 100%;
}
body::before,
body::after { content: none !important; display: none !important; }

/* =========================  UI “Café”  ========================= */

/* Card crema */
.cafe-card {
  background: linear-gradient(180deg, #fffefaeb, #faf7f2e6);
  border: 1px solid color-mix(in oklch, #f4eee6 65%, black 0%);
  border-radius: 28px;
  backdrop-filter: blur(6px);
  box-shadow:
    0 20px 50px rgba(0,0,0,.25),
    0 1px 0 rgba(255,255,255,.6) inset,
    0 -1px 0 rgba(0,0,0,.05) inset;
}

/* Título */
.cafe-title {
  font-family: var(--font-display), var(--font-sans), ui-sans-serif, system-ui;
  text-transform: uppercase;
  font-weight: 900;
  letter-spacing: .035em;
  color: #1b1715;
  text-shadow: 0 6px 22px rgba(0,0,0,.22);
}

/* Inputs */
.cafe-input {
  height: 3rem;
  border-radius: 14px;
  border: 1px solid color-mix(in oklch, #f4eee6 70%, black 0%);
  background: linear-gradient(180deg, #ffffff, #fcfbf7);
  padding: 0 1rem;
  font-size: 15px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.7);
  color: #1b1715 !important;
  caret-color: #b55a26;
}
.cafe-input::placeholder { color: #9b8b83; opacity: .95; }
.cafe-input:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px rgba(198,138,75,.25),
    0 0 0 4px rgba(198,138,75,.18);
  border-color: color-mix(in oklch, #c68a4b 60%, white 40%);
}
.cafe-input:-webkit-autofill,
.cafe-input:-webkit-autofill:hover,
.cafe-input:-webkit-autofill:focus {
  -webkit-text-fill-color: #1b1715 !important;
  transition: background-color 9999s ease-in-out 0s;
  box-shadow: 0 0 0px 1000px #fff inset;
}

/* CTA cobre (login) */
.cafe-cta {
  --btn-top: #f5aa60; --btn-mid: #dd7f3a; --btn-bot: #b55a26;
  position: relative; border-radius: 9999px;
  padding: 1.15rem 1.25rem; font-weight: 800; font-size: 1.05rem;
  color: #fff7ef !important; border: 0 !important;
  background-image: linear-gradient(180deg, var(--btn-top), var(--btn-mid) 56%, var(--btn-bot)) !important;
  background-color: transparent !important;
  box-shadow: 0 18px 30px rgba(0,0,0,.22), 0 2px 0 rgba(255,255,255,.25) inset, 0 -2px 0 rgba(0,0,0,.06) inset;
  transition: transform .06s ease, filter .15s ease, box-shadow .15s ease;
  cursor: pointer;
}
.cafe-cta::before{ content:""; position:absolute; inset:0; top:0; height:32%;
  background: linear-gradient(to bottom, rgba(255,255,255,.38), transparent); border-radius: inherit; pointer-events:none; }
.cafe-cta:hover { filter: brightness(1.07); }
.cafe-cta:active { transform: translateY(1px); }

/* ► Estado de error (rojo) para el botón de login */
.cafe-cta-error {
  --btn-top: #ef4444; --btn-mid: #dc2626; --btn-bot: #b91c1c;
  background-image: linear-gradient(180deg, var(--btn-top), var(--btn-mid) 56%, var(--btn-bot)) !important;
  box-shadow: 0 18px 30px rgba(0,0,0,.22), 0 2px 0 rgba(255,255,255,.15) inset, 0 -2px 0 rgba(0,0,0,.1) inset !important;
}

/* Botón icono redondo (historial / logout) */
.cafe-icon-btn{
  height: 38px; width: 38px;
  display: grid; place-items: center;
  border-radius: 9999px;
  color: #fff;
  background: radial-gradient(120% 120% at 30% 20%, #2b2b2b, #171717);
  box-shadow: 0 10px 20px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.08);
  transition: transform .06s ease, filter .15s ease;
}
.cafe-icon-btn:hover{ filter: brightness(1.08); }
.cafe-icon-btn:active{ transform: translateY(1px); }

/* Tres acciones iguales (Tomar / Recargar / Apostar) */
.cafe-square{
  height: 92px;
  border-radius: 18px;
  display: grid;
  grid-template-rows: 1fr auto;
  place-items: center;
  gap: .35rem;
  color: #fff;
  font-weight: 800;
  box-shadow:
    0 18px 30px rgba(0,0,0,.18),
    inset 0 2px 0 rgba(255,255,255,.18),
    inset 0 -2px 0 rgba(0,0,0,.06);
  transition: transform .06s ease, filter .15s ease;
}
.cafe-square:hover{ filter: brightness(1.06); }
.cafe-square:active{ transform: translateY(1px); }
.cafe-square span{ font-size: .9rem; letter-spacing: .02em; }

/* variantes */
.cafe-square--primary{
  background-image: linear-gradient(180deg, #f5aa60, #dd7f3a 56%, #b55a26);
}
.cafe-square--dark{
  background-image: linear-gradient(180deg, #3a332f, #24201d 60%, #171412);
}
.cafe-square--accent{
  background-image: linear-gradient(180deg, #59c07b, #35a35d 60%, #1f7d43);
}

/* Pantallita del balance (en la cafetera) */
.cafe-display{
  min-width: 56%;
  padding: .18rem .5rem;
  border-radius: 10px;
  background: linear-gradient(180deg, #101217, #0b0d10);
  color: #e8f8ff;
  font-weight: 900;
  font-feature-settings: "tnum" on, "lnum" on;
  letter-spacing: .04em;
  text-shadow: 0 0 10px rgba(34,201,255,.35);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.07);
  display: inline-flex; align-items: center; justify-content: center;
}

/* Toasts Sonner */
.toaster [data-sonner-toast] {
  border-radius: 14px;
  box-shadow: 0 14px 30px rgba(0,0,0,.22), 0 1px 0 rgba(255,255,255,.2) inset;
}

/* =========================
   Botones/tiles grandes (Tomar, Recargar, Apostar)
   ========================= */
.cafe-tile,
.cafe-tile-primary,
.cafe-tile-dark,
.cafe-tile-accent {
  -webkit-appearance: none;
  appearance: none;
  border: 0;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: .55rem;
  width: 100%;
  min-height: 120px;
  padding: 1.1rem;
  border-radius: 22px;
  text-align: center;
  font-weight: 800;
  color: #fff7ef;
  background: transparent;
  box-shadow:
    0 16px 36px rgba(0,0,0,.18),
    0 1px 0 rgba(255,255,255,.18) inset;
  transition: transform .08s ease, filter .15s ease, box-shadow .2s ease;
  cursor: pointer;
}

.cafe-tile svg { width: 1.5rem; height: 1.5rem; opacity: .95; }
.cafe-tile span { font-size: .95rem; letter-spacing: .02em; }

.cafe-tile:hover { filter: brightness(1.06); }
.cafe-tile:active { transform: translateY(1px); }
.cafe-tile:focus-visible {
  outline: none;
  box-shadow:
    0 16px 36px rgba(0,0,0,.2),
    0 0 0 3px rgba(255,255,255,.35) inset,
    0 0 0 4px rgba(213,151,88,.28);
}

/* Variante cobre (Tomar) */
.cafe-tile-primary {
  background-image: linear-gradient(180deg, #f5aa60, #dd7f3a 56%, #b55a26);
}

/* Variante marrón oscuro (Recargar) */
.cafe-tile-dark {
  background-image: linear-gradient(180deg, #2a2a2a, #1f1f1f 60%, #161616);
  color: #f3f2ef;
}

/* Variante acento (Apostar) — verde */
.cafe-tile-accent {
  background-image: linear-gradient(180deg, #34d399, #10b981 60%, #059669);
}

/* Brillo superior sutil */
.cafe-tile-primary::before,
.cafe-tile-dark::before,
.cafe-tile-accent::before {
  content:"";
  position:absolute; inset:0; top:0; height:34%;
  border-radius: inherit;
  background: linear-gradient(to bottom, rgba(255,255,255,.38), transparent);
  pointer-events:none;
}
